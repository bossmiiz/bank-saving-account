<div class="account-create-container">
  <h2 style="text-align: center; margin-bottom: 12px">New Account</h2>
  <form
    [formGroup]="createForm"
    (ngSubmit)="onSubmit()"
    class="account-create-form"
  >
    <div *ngIf="errorMsg" class="error" style="text-align: center">
      {{ errorMsg }}
    </div>
    <div
      *ngIf="successMsg"
      style="color: #388e3c; text-align: center; margin-bottom: 8px"
    >
      {{ successMsg }}
      <div style="margin-top: 12px">
        <button type="button" (click)="goToLogin()" class="login-button">
          Logout
        </button>
      </div>
    </div>

    <ng-container *ngIf="isTeller">
      <label>Citizen ID</label>
      <input
        formControlName="citizenId"
        type="text"
        placeholder="Citizen ID"
        [disabled]="loading"
      />
      <div
        *ngIf="
          createForm.get('citizenId')?.touched &&
          createForm.get('citizenId')?.invalid
        "
        class="error"
      >
        Please enter your Citizen ID
      </div>

      <label>Thai Name</label>
      <input
        formControlName="thaiName"
        type="text"
        placeholder="Thai Name"
        [disabled]="loading"
      />
      <div
        *ngIf="
          createForm.get('thaiName')?.touched &&
          createForm.get('thaiName')?.invalid
        "
        class="error"
      >
        Please enter your Thai name
      </div>

      <label>English Name</label>
      <input
        formControlName="englishName"
        type="text"
        placeholder="English Name"
        [disabled]="loading"
      />
      <div
        *ngIf="
          createForm.get('englishName')?.touched &&
          createForm.get('englishName')?.invalid
        "
        class="error"
      >
        Please enter your English name
      </div>
    </ng-container>

    <label>Initial Deposit</label>
    <input
      formControlName="initialDeposit"
      type="number"
      placeholder="Amount (optional)"
      [disabled]="loading"
    />
    <div>
      <button type="submit" [disabled]="loading" class="button-container">
        <span *ngIf="!loading">Create</span>
        <span *ngIf="loading">loading...</span>
      </button>
      <hr />
      <button
        type="submit"
        (click)="goToDeposit()"
        [disabled]="loading"
        class="button-container"
      >
        <span>Deposit</span>
      </button>
    </div>
  </form>
</div>
